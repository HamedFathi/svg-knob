!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.svgKnob=e():t.svgKnob=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={light:{bg_color:"#E0E0E0",bg_border_color:"#BDBDBD",track_bg_color:"#CFD8DC",track_color_init:"#64B5F6",track_color:"#42A5F5",cursor_color_init:"#64B5F6",cursor_color:"#42A5F5",markers_color:"#9E9E9E",font_color:"#424242"},light2:{bg_color:"#B1DAEE",bg_border_color:"#569DC0",track_bg_color:"#B1DAEE",track_color_init:"#569DC0",track_color:"#1D6D93",cursor_color_init:"#569DC0",cursor_color:"#1D6D93",markers_color:"#3680A4",font_color:"#1D6D93"},dark:{bg_color:"#000000",bg_border_color:"#569DC0",track_bg_color:"#424242",track_color_init:"#FDD835",track_color:"#FFEC00",cursor_color_init:"#569DC0",cursor_color:"#FDD835",markers_color:"#3680A4",font_color:"#FFEA00"}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"You must pass a DOM node reference to the Knob constructor";var r="http://www.w3.org/2000/svg",n=!0,a=!n,i=50,u=50,l=void 0;("string"==typeof t||t instanceof String)&&(t=document.querySelector(t)),"svg"===t.nodeName.toLowerCase()?l=t:(l=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.appendChild(l));void 0!==t.dataset.label&&t.dataset.label;var s={label:!1,rotation:n,default_value:0,initial_value:0,value_min:0,value_max:100,value_resolution:1,center_zero:!1,center_value:null,center_gap:4,zero_at:270,angle_min:30,angle_max:330,bg_radius:32,bg_border_width:1,track_bg_radius:40,track_bg_width:8,track_radius:40,track_width:8,cursor_radius:18,cursor_length:10,cursor_width:4,palette:"light",bg:!1,track_bg:!0,track:!0,cursor:!1,linecap:"butt",value_text:!0,value_position:u+8,format:function(t){return t},font_family:"sans-serif",font_size:25,font_weight:"bold",markers:0,markers_radius:40,markers_length:8,markers_width:2,class_bg:"knob-bg",class_track_bg:"knob-track-bg",class_track:"knob-track",class_value:"knob-value",class_cursor:"knob-cursor",class_markers:"knob-markers",snap_to_steps:!1,mouse_wheel_acceleration:1,onchange:null},c=JSON.parse(t.dataset.config||"{}"),_=Object.assign({},s,o.default[s.palette],e,c),d=Object.assign(_,o.default[_.palette],e,c),b=void 0;b=d.label||d.value_position>=100-d.font_size/2?120:100,l.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttributeNS(null,"viewBox","0 0 100 "+b);var m=0,f=0,v=0,g=0,h=d.angle_min,p=1,k=null,A=null,w=null,x=null,M=null,E=null,D=null,S=null,N=void 0,y=void 0,C=!1;function L(){d.center_zero&&(d.center_value||(d.center_value=P((d.value_max-d.value_min)/2+d.value_min))),O(d.initial_value?d.initial_value:d.default_value),"butt"===d.linecap?(v=Y(180*Math.acos(-d.center_gap/100)/Math.PI),g=Y(180*Math.acos(d.center_gap/100)/Math.PI)):(v=Y(180*Math.acos(-(1.3*d.track_width+d.center_gap)/100)/Math.PI),g=Y(180*Math.acos((1.3*d.track_width+d.center_gap)/100)/Math.PI))}function P(t){return null===d.value_resolution?t:Math.round(t/d.value_resolution)*d.value_resolution}function j(t){var e=F(t);return d.format(e)}function z(){var t;return t=Math.abs(d.value_max-d.value_min),1===Math.abs(t%2)?.5:0}function F(t){return P(((void 0===t?h:t)-d.angle_min)/(d.angle_max-d.angle_min)*(d.value_max-d.value_min)+d.value_min-z())}function O(t){return t<d.value_min?d.value_min:t>d.value_max?d.value_max:t,B((t+z()-d.value_min)/(d.value_max-d.value_min)*(d.angle_max-d.angle_min)+d.angle_min),!0}function B(e,r){var n=h,a=r&&e!==h;h=Math.min(Math.max(e,d.angle_min),d.angle_max),a&&F(n)!==F()&&function(){var e=F(),r=new CustomEvent("change",{detail:e});t.dispatchEvent(r),d.onchange&&d.onchange(e)}()}function I(t){var e=d.zero_at-t;return e<0&&(e+=360),e}function Y(t){return(d.zero_at-t+360)%360}function K(t){var e=t.clientX-N.left,r=t.clientY-N.top,n=(e-m)/(N.width/2),o=-(r-f)/(N.width/2);d.rotation===a&&(n=-n);var i=Math.atan2(o,n);i<0&&(i=2*Math.PI+i),B(Y(180*i/Math.PI),!0)}function R(t){t.preventDefault(),K(t),Z()}function X(){document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",X,!1)}function q(t){t.preventDefault(),N=l.getBoundingClientRect(),m=N.width/2,f=m,document.addEventListener("touchmove",J,{passive:!1}),document.addEventListener("touchend",G)}function J(t){t.preventDefault();var e=t.touches.length-1,r=t.touches[e].clientX-N.left,n=t.touches[e].clientY-N.top,o=(r-m)/(N.width/2),i=-(n-f)/(N.width/2);d.rotation===a&&(o=-o);var u=Math.atan2(i,o);u<0&&(u=2*Math.PI+u),B(Y(180*u/Math.PI),!0),Z()}function G(){document.removeEventListener("touchmove",J),document.removeEventListener("touchend",G)}function H(t,e){var r=t*Math.PI/180,a=void 0===e?d.track_radius:e,o=Math.cos(r)*a,l=Math.sin(r)*a;return{x:d.rotation===n?i+o:i-o,y:u-l}}function Q(t,e,r){var a=I(t),o=I(e);t!==e&&(a-=1e-4,o+=1e-4);var i=H(a,r),u=i.x,l=i.y,s=H(o,r),c=s.x,_=s.y,b="M "+u+","+l+" A "+r+","+r+" 0 "+((a-o+360)%360<180?0:1)+","+(d.rotation===n?1:0)+" "+c+","+_;return b}function T(){var t=null;if(d.center_zero){if(F()===d.center_value)return t;h<180?t=Q(Math.min(h,v),v,d.track_radius):h>180&&(t=Q(g,Math.max(h,g),d.track_radius))}else t=Q(d.angle_min,h,d.track_radius);return t}function U(){if(d.track){var t=T();t&&((M=document.createElementNS(r,"path")).setAttributeNS(null,"d",t),M.setAttribute("stroke",""+d.track_color_init),M.setAttribute("stroke-width",""+d.track_width),M.setAttribute("fill","transparent"),M.setAttribute("stroke-linecap",d.linecap),M.setAttribute("class",d.class_track),l.appendChild(M))}}function V(){var t=I(h),e=H(t,d.cursor_radius),r=H(t,d.cursor_radius+d.cursor_length);return"M "+e.x+","+e.y+" L "+r.x+","+r.y}function W(){d.bg&&((k=document.createElementNS(r,"circle")).setAttributeNS(null,"cx",""+i),k.setAttributeNS(null,"cy",""+u),k.setAttributeNS(null,"r",""+d.bg_radius),k.setAttribute("fill",""+d.bg_color),k.setAttribute("stroke",""+d.bg_border_color),k.setAttribute("stroke-width",""+d.bg_border_width),k.setAttribute("class",d.class_bg),l.appendChild(k)),d.track_bg&&(d.center_zero?((w=document.createElementNS(r,"path")).setAttributeNS(null,"d",Q(d.angle_min,v,d.track_bg_radius)),w.setAttribute("stroke",""+d.track_bg_color),w.setAttribute("stroke-width",""+d.track_bg_width),w.setAttribute("stroke-linecap",d.linecap),w.setAttribute("fill","transparent"),w.setAttribute("class",d.class_track_bg),l.appendChild(w),(x=document.createElementNS(r,"path")).setAttributeNS(null,"d",Q(g,d.angle_max,d.track_bg_radius)),x.setAttribute("stroke",""+d.track_bg_color),x.setAttribute("stroke-width",""+d.track_bg_width),x.setAttribute("stroke-linecap",d.linecap),x.setAttribute("fill","transparent"),x.setAttribute("class",d.class_track_bg),l.appendChild(x)):((A=document.createElementNS(r,"path")).setAttributeNS(null,"d",Q(d.angle_min,d.angle_max,d.track_bg_radius)),A.setAttribute("stroke",""+d.track_bg_color),A.setAttribute("stroke-width",""+d.track_bg_width),A.setAttribute("fill","transparent"),A.setAttribute("stroke-linecap",d.linecap),A.setAttribute("class",d.class_track_bg),l.appendChild(A))),function(){if(d.markers){for(var t="",e=(d.angle_max-d.angle_min)/d.markers,n=d.angle_min;n<=d.angle_max;n+=e){var a=H(I(n),d.markers_radius),o=H(I(n),d.markers_radius+d.markers_length);t+="M "+a.x+","+a.y+" L "+o.x+","+o.y+" "}(D=document.createElementNS(r,"path")).setAttributeNS(null,"d",t),D.setAttribute("stroke",""+d.markers_color),D.setAttribute("stroke-width",""+d.markers_width),D.setAttribute("stroke-linecap",d.linecap),D.setAttribute("class",d.class_markers),l.appendChild(D)}}(),U(),function(){if(d.cursor){var t=V();t&&((E=document.createElementNS(r,"path")).setAttributeNS(null,"d",t),E.setAttribute("stroke",""+d.cursor_color_init),E.setAttribute("stroke-width",""+d.cursor_width),E.setAttribute("fill","transparent"),E.setAttribute("stroke-linecap",d.linecap),E.setAttribute("class",d.class_cursor),l.appendChild(E))}}(),d.value_text&&((S=document.createElementNS(r,"text")).setAttributeNS(null,"x",""+i),S.setAttributeNS(null,"y",""+d.value_position),S.setAttribute("text-anchor","middle"),S.setAttribute("cursor","default"),S.setAttribute("font-family",d.font_family),S.setAttribute("font-size",""+d.font_size),S.setAttribute("font-weight",""+d.font_weight),S.setAttribute("fill",d.font_color),S.setAttribute("class",d.class_value),S.textContent=j(),l.appendChild(S))}function Z(){var t=T();t?M?M.setAttributeNS(null,"d",t):U():M&&M.setAttributeNS(null,"d",""),C||(C=F()!==d.default_value)&&M&&M.setAttribute("stroke",""+d.track_color),(t=V())&&E&&(E.setAttributeNS(null,"d",t),C&&E.setAttribute("stroke",""+d.cursor_color)),S&&(S.textContent=j())}return L(),W(),function(){l.addEventListener("mousedown",function(t){!function(t){t.preventDefault(),N=l.getBoundingClientRect(),m=N.width/2,f=m,document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",X,!1),K(t),Z()}(t)}),l.addEventListener("wheel",function(t){!function(t){t.preventDefault();var e=t.deltaY;0!==e&&(y>Math.abs(e)||!y)&&(y=Math.abs(e));return r=e/y*p*d.mouse_wheel_acceleration,B(Math.min(Math.max(h+r,d.angle_min),d.angle_max),!0),Z(),!1;var r}(t)}),l.addEventListener("touchstart",q,{passive:!1})}(),{set value(t){O(t),Z()},set config(t){d=Object.assign({},s,e,t),L(),W()},enableDebug:function(){!0},disableDebug:function(){!1}}};var n,a=r(0),o=(n=a)&&n.__esModule?n:{default:n}}])});